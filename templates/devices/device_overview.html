<!--
 Displays an overview for one device in a table.
 Displays also a button with capability of printing details for that device (implemented as collapsible panel).

 Gets "device_model" as Device model
-->

<table class="table table-bordered">
  <tr>
    <th> Device ID </th>
    <th> status </th>
  </tr>
  <tr>
    <td> {{ device_model.device_id }} </td>
    <td>
      <!-- state value (online/offline) -->
      <span id="{{ device_model.device_id }}_state">{{ device_model.status }}</span>
      <!-- details button -->
      <a class="btn btn-primary" role="button" data-toggle="collapse"
         href="#{{ device_model.device_id }}_device_details" aria-expanded="false" aria-controls="device_details"
         style="position: relative; left: 70%"
      >
        Details
        <span id="{{ device_model.device_id }}details_chevron_down"
              class="glyphicon glyphicon-chevron-down"></span>
        <span id="{{ device_model.device_id }}details_chevron_up"
              class="glyphicon glyphicon-chevron-up" style="display: none"></span>
      </a>
      <!-- "save into device" and "discard changes" buttons -->
      <div id="{{ device_model.device_id }}_btngroup" class="btn-group"
           style="display: none; position: relative; left: 70%;">
        <!-- save into device button -->
        <button id="{{ device_model.device_id }}_btngroup_saveintodevice"
                class="btn btn-success" onclick="DeviceWindow.onSaveIntoDevice(event)" role="button">
          Save into device
          <span id="{{ device_model.device_id }}_save_button_loader_icon"
                class="glyphicon glyphicon-refresh glyphicon-refresh-animate"
                style="display: none">
          </span>
        </button>
        <button id="{{ device_model.device_id }}_btngroup_discardchanges"
                class="btn btn-warning" onclick="DeviceWindow.onSaveIntoDevice(event)" role="button">
          Discard changes
        </button>
      </div> <!-- btn-group -->

      <!-- success and error texts -->
      <div style="position: relative; left: 70%">
        <span id="{{ device_model.device_id }}_save_success_text" style="display:none; color: green">Successfully saved</span>
        <span id="{{ device_model.device_id }}_save_error_text" style="display:none; color: red">Save failed</span>
      </div>
    </td>
  </tr>
</table>

<!-- Device details collapsed -->
<div id="{{ device_model.device_id }}_device_details" class="collapse panel panel-default">
  <div class="panel-body">
    {% autoescape off %}
      {{ device_model.render_all_items }}
    {% endautoescape %}
  </div>
</div>
